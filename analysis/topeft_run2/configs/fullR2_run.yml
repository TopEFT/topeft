# Preset configurations for the Run 2 SR/CR histogram production.
#
# The `defaults` section captures shared options, while individual profiles
# enumerate the overrides needed for a specific job type.  Select a profile at
# runtime with `python run_analysis.py --options this_file.yml:cr`.
# Command-line arguments are ignored whenever a YAML file is supplied, so embed
# any tweaks directly in the configuration before launching the workflow.
---
defaults:
  # Common EFT configuration shared across SR/CR jobs.
  do_systs: true
  wc_list:
    - ctG

  # Select the metadata bundle that drives region and variable planning.
  metadata: ../topeft/params/metadata.yml

  # Default scenario grouping used for reinterpretation studies.
  scenarios:
    - TOP_22_006

  # The base label used for output files.  Profiles append their own suffixes.
  outname: refact_250901_c1

default_profile: cr

profiles:
  sr:
    description: Signal region histogram production (skip control regions).
    jsonFiles:
      - ../../input_samples/cfgs/mc_signal_samples_NDSkim.cfg
      - ../../input_samples/cfgs/mc_background_samples_NDSkim.cfg
      - ../../input_samples/cfgs/data_samples_NDSkim.cfg
    skip_cr: true
    outname: refact_250901_c1_SRs

  cr:
    description: Control region histogram production (skip signal regions).
    jsonFiles:
      - ../../input_samples/cfgs/mc_background_samples_cr_NDSkim.cfg
    skip_sr: true
    split_lep_flavor: true
    executor: futures
    chunksize: 50
    nchunks: 1
    outname: refact_250901_c1_CRs
